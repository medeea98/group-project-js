async function e(e){const t=`https://api.themoviedb.org/3/${e}?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43`;try{const e=await fetch(t);return await e.json()}catch(e){console.error(`Error at ${t}`,e)}}async function t(e){const t=`https://api.themoviedb.org/3/search/movie?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43&query=${e}&language=en-US&include_adult=false&page=1`;return await async function(e,t){try{const n=await fetch(e,t);if(!n.ok)throw new Error("Network response was not ok");return await n.json()}catch(e){return console.error("Error fetching data:",e),null}}(t,{method:"GET",headers:{accept:"application/json"}})}async function n(n){let a;a=n?await t(n):await async function(){return e("/trending/movie/week")}();const o=document.getElementById("movie-container");if(o.innerHTML="",0===a.results.length){const e=document.createElement("p");e.textContent="Nu s-au găsit filme pentru căutarea dată.",o.appendChild(e),document.querySelector(".movies").hidden=!0}else{document.querySelector(".movies").remove();const t=document.createElement("div");t.classList.add("movies");const n=document.createElement("div");n.id="movie-container",t.appendChild(n),document.body.appendChild(t);const o=await async function(){return e("/genre/movie/list")}();a.results.forEach((e=>{!function(e,t,n){const a=document.createElement("div");a.classList.add("movie-card");const o=document.createElement("img");o.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,o.alt=`${e.title} Poster`,o.classList.add("movie-image");const i=document.createElement("div");i.classList.add("movie-description");const c=document.createElement("h2");c.textContent=e.title,c.classList.add("movie-title");const r=e.genre_ids.map((e=>{const n=t.genres.find((t=>t.id===e));return n?n.name:""})),s=r.slice(0,2),d=r.slice(2),l=(p=e.vote_average,Math.abs(p%1)>=.005?Math.ceil(100*p)/100:Math.floor(100*p)/100),m=document.createElement("p"),u=document.createElement("span");var p;u.classList.add("rating"),u.textContent=` ${l}`,d.length>0?m.innerHTML=`${s.join(", ")}, Other | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `:m.innerHTML=`${s.join(", ")} | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `;m.appendChild(u),m.classList.add("movie-details"),i.appendChild(c),i.appendChild(m),a.appendChild(o),a.appendChild(i),n.appendChild(a)}(e,o,n)}))}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".search-input");document.querySelector(".search-bar").addEventListener("submit",(async t=>{t.preventDefault();const a=e.value.trim();await n(a)}))}));
//# sourceMappingURL=index.fb9a78ca.js.map
