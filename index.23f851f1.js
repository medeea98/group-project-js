async function e(e){const t=`https://api.themoviedb.org/3/${e}?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43`;try{const e=await fetch(t);return await e.json()}catch(e){console.error(`Error at ${t}`,e)}}function t(e){return Math.abs(e%1)>=.005?Math.ceil(100*e)/100:Math.floor(100*e)/100}function n(e){e.style.display="none",document.body.style.overflow="",e.remove()}function a(e,t){const n=document.createElement("button");return n.textContent=e,n.classList.add(t),n}window.onload=async function(){const d=document.getElementById("main-content"),o=document.createElement("div");o.classList.add("movies");const c=document.createElement("div");c.id="movie-container",o.appendChild(c),d.appendChild(o);const i=await async function(){return e("trending/movie/week")}();await async function(){return e("genre/movie/list")}(),i.results.forEach((async d=>{const o=await e(`movie/${d.id}`),i=o.vote_average,s=o.popularity,r=o.genres.map((e=>e.name)),l=o.overview,m=document.createElement("div");m.classList.add("movie-card");const u=document.createElement("img");u.src=`https://image.tmdb.org/t/p/w500/${d.poster_path}`,u.alt=`${d.title} Poster`,u.classList.add("movie-image");const p=document.createElement("div");p.classList.add("movie-description");const h=document.createElement("h2");h.textContent=d.title,h.classList.add("movie-title");const v=document.createElement("span");v.classList.add("rating"),v.textContent=` ${t(i)}`;const y=document.createElement("p");y.innerHTML=`${r.slice(0,2).join(", ")}, ${r.length>2?"Other":""} | ${d.release_date?d.release_date.substring(0,4):"N/A"} | `,y.appendChild(v),y.classList.add("movie-details"),p.appendChild(h),p.appendChild(y),m.appendChild(u),m.appendChild(p),m.addEventListener("click",(()=>function(e,t,d,o,c,i){const s=document.createElement("div");s.classList.add("modal-backdrop"),s.addEventListener("click",(e=>{e.target===s&&n(s)}));const r=document.createElement("div");r.classList.add("modal-content");const l=document.createElement("img");l.src=`https://image.tmdb.org/t/p/w500/${t}`,l.alt=`${e} Poster`,l.classList.add("movie-image");const m=document.createElement("h2");m.textContent=e;const u=document.createElement("button");u.classList.add("close-button"),u.addEventListener("click",(()=>n(s)));const p=document.createElement("div");p.classList.add("modal-movie-description");const h=document.createElement("p");h.innerHTML="<b>ABOUT:</b>";const v=document.createElement("p");v.textContent=i;const y=document.createElement("div");y.classList.add("movie-modal-stats");const E=document.createElement("div");E.classList.add("movie-modal-tags");const L=document.createElement("div");L.classList.add("movie-modal-results");const C=document.createElement("span");C.textContent="Rating:";const f=document.createElement("span");f.classList.add("rating"),f.textContent=d;const b=document.createElement("span");b.textContent="Popularity:";const g=document.createElement("span");g.textContent=o;const w=document.createElement("span");w.textContent="Genres:";const k=document.createElement("span");k.textContent=c.join(", "),E.appendChild(C),E.appendChild(b),E.appendChild(w),L.appendChild(f),L.appendChild(g),L.appendChild(k),y.appendChild(E),y.appendChild(L),p.appendChild(m),p.appendChild(y),p.appendChild(h),p.appendChild(v);const $=document.createElement("div");$.classList.add("modal-buttons");const M=a("ADD TO WATCHED","movie-watched-btn"),x=a("ADD TO QUEUE","movie-queue-btn");$.appendChild(M),$.appendChild(x),p.appendChild($),r.appendChild(l),r.appendChild(p),r.appendChild(u),s.appendChild(r),document.body.appendChild(s),s.style.display="flex",document.body.style.overflow="hidden"}(d.title,d.poster_path,t(i),s,r,l))),c.appendChild(m)}))},document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".numbers-container"),t=document.querySelector(".left-arrow"),n=document.querySelector(".right-arrow");let a=1;function d(t,n){e.innerHTML="";for(let i=t;i<=n;i++){const t=document.createElement("div");t.classList.add("number"),t.textContent=i,i===a&&t.classList.add("active"),t.addEventListener("click",(function(){a=i,d(o(),c())})),e.appendChild(t)}}function o(){return Math.max(1,a-Math.floor(3.5))}function c(){return Math.min(20,o()+7-1)}function i(){t.style.display=1===a?"none":"block",n.style.display=20===a?"none":"block"}t.addEventListener("click",(function(){a>1&&(a--,d(o(),c()),i())})),n.addEventListener("click",(function(){a<20&&(a++,d(o(),c()),i())})),d(o(),c()),i()}));document.getElementById("myModal");var d={libraryLink:document.querySelector(".library-btn"),homeLink:document.querySelector(".home-btn"),headerButtons:document.querySelector(".list-button"),filmsList:document.querySelector(".movies"),headerForm:document.querySelector(".search-bar"),libraryHeader:document.querySelector(".container-header")};async function o(e){const t=`https://api.themoviedb.org/3/${e}?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43`;try{const e=await fetch(t);return await e.json()}catch(e){console.error(`Error at ${t}`,e)}}async function c(e){const t=`https://api.themoviedb.org/3/search/movie?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43&query=${e}&language=en-US&include_adult=false&page=1`;return await async function(e,t){try{const n=await fetch(e,t);if(!n.ok)throw new Error("Network response was not ok");return await n.json()}catch(e){return console.error("Error fetching data:",e),null}}(t,{method:"GET",headers:{accept:"application/json"}})}async function i(e){let t;t=e?await c(e):await async function(){return o("/trending/movie/week")}();const n=document.getElementById("movie-container");if(n.innerHTML="",0===t.results.length){const e=document.createElement("p");e.textContent="Nu s-au găsit filme pentru căutarea dată.",n.appendChild(e),document.querySelector(".movies").hidden=!0}else{document.querySelector(".movies").remove();const e=document.createElement("div");e.classList.add("movies");const n=document.createElement("div");n.id="movie-container",e.appendChild(n),document.body.appendChild(e);const a=await async function(){return o("/genre/movie/list")}();t.results.forEach((e=>{!function(e,t,n){const a=document.createElement("div");a.classList.add("movie-card");const d=document.createElement("img");d.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,d.alt=`${e.title} Poster`,d.classList.add("movie-image");const o=document.createElement("div");o.classList.add("movie-description");const c=document.createElement("h2");c.textContent=e.title,c.classList.add("movie-title");const i=e.genre_ids.map((e=>{const n=t.genres.find((t=>t.id===e));return n?n.name:""})),s=i.slice(0,2),r=i.slice(2),l=(p=e.vote_average,Math.abs(p%1)>=.005?Math.ceil(100*p)/100:Math.floor(100*p)/100),m=document.createElement("p"),u=document.createElement("span");var p;u.classList.add("rating"),u.textContent=` ${l}`,r.length>0?m.innerHTML=`${s.join(", ")}, Other | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `:m.innerHTML=`${s.join(", ")} | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `;m.appendChild(u),m.classList.add("movie-details"),o.appendChild(c),o.appendChild(m),a.appendChild(d),a.appendChild(o),n.appendChild(a)}(e,a,n)}))}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".search-input");document.querySelector(".search-bar").addEventListener("submit",(async t=>{t.preventDefault();const n=e.value.trim();await i(n)}))})),d.homeLink.addEventListener("click",(function(){d.headerForm.classList.remove("visually-hidden"),d.headerButtons.classList.add("visually-hidden"),d.libraryHeader.classList.add("container-header"),d.libraryHeader.classList.remove("library-header")})),d.libraryLink.addEventListener("click",(function(){d.headerForm.classList.add("visually-hidden"),d.headerButtons.classList.remove("visually-hidden"),d.libraryHeader.classList.remove("container-header"),d.libraryHeader.classList.add("library-header")}));
//# sourceMappingURL=index.23f851f1.js.map
