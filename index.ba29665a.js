async function e(e){const t=`https://api.themoviedb.org/3/${e}?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43`;try{const e=await fetch(t);return await e.json()}catch(e){console.error(`Error at ${t}`,e)}}window.onload=async function(){const t=document.createElement("div");t.classList.add("movies");const n=document.createElement("div");n.id="movie-container",t.appendChild(n),document.body.appendChild(t);const a=await async function(){return e("trending/movie/week")}(),r=await async function(){return e("genre/movie/list")}();a.results.forEach((e=>{const t=document.createElement("div");t.classList.add("movie-card");const a=document.createElement("img");a.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,a.alt=`${e.title} Poster`,a.classList.add("movie-image");const i=document.createElement("div");i.classList.add("movie-description");const o=document.createElement("h2");o.textContent=e.title,o.classList.add("movie-title");const d=e.genre_ids.map((e=>{const t=r.genres.find((t=>t.id===e));return t?t.name:""})),c=d.slice(0,2),s=d.slice(2),l=(m=e.vote_average,Math.abs(m%1)>=.005?Math.ceil(100*m)/100:Math.floor(100*m)/100);var m;const u=document.createElement("p"),h=document.createElement("span");h.classList.add("rating"),h.textContent=` ${l}`,s.length>0?u.innerHTML=`${c.join(", ")}, Other | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `:u.innerHTML=`${c.join(", ")} | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `,u.appendChild(h),u.classList.add("movie-details"),i.appendChild(o),i.appendChild(u),t.appendChild(a),t.appendChild(i),n.appendChild(t)}))},document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".numbers-container"),t=document.querySelector(".left-arrow"),n=document.querySelector(".right-arrow");let a=1;function r(t,n){e.innerHTML="";for(let d=t;d<=n;d++){const t=document.createElement("div");t.classList.add("number"),t.textContent=d,d===a&&t.classList.add("active"),t.addEventListener("click",(function(){a=d,r(i(),o())})),e.appendChild(t)}}function i(){return Math.max(1,a-Math.floor(3.5))}function o(){return Math.min(20,i()+7-1)}function d(){t.style.display=1===a?"none":"block",n.style.display=20===a?"none":"block"}t.addEventListener("click",(function(){a>1&&(a--,r(i(),o()),d())})),n.addEventListener("click",(function(){a<20&&(a++,r(i(),o()),d())})),r(i(),o()),d()}));document.getElementById("myModal");var t={libraryLink:document.querySelector(".library-btn"),homeLink:document.querySelector(".home-btn"),headerButtons:document.querySelector(".list-button"),filmsList:document.querySelector(".movies"),headerForm:document.querySelector(".search-bar"),libraryHeader:document.querySelector(".container-header")};async function n(e){const t=`https://api.themoviedb.org/3/${e}?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43`;try{const e=await fetch(t);return await e.json()}catch(e){console.error(`Error at ${t}`,e)}}async function a(e){const t=`https://api.themoviedb.org/3/search/movie?api_key=004a3a7ad0ebfa9ee53f6d0ac407af43&query=${e}&language=en-US&include_adult=false&page=1`;return await async function(e,t){try{const n=await fetch(e,t);if(!n.ok)throw new Error("Network response was not ok");return await n.json()}catch(e){return console.error("Error fetching data:",e),null}}(t,{method:"GET",headers:{accept:"application/json"}})}async function r(e){let t;t=e?await a(e):await async function(){return n("/trending/movie/week")}();const r=document.getElementById("movie-container");if(r.innerHTML="",0===t.results.length){const e=document.createElement("p");e.textContent="Nu s-au găsit filme pentru căutarea dată.",r.appendChild(e),document.querySelector(".movies").hidden=!0}else{document.querySelector(".movies").remove();const e=document.createElement("div");e.classList.add("movies");const a=document.createElement("div");a.id="movie-container",e.appendChild(a),document.body.appendChild(e);const r=await async function(){return n("/genre/movie/list")}();t.results.forEach((e=>{!function(e,t,n){const a=document.createElement("div");a.classList.add("movie-card");const r=document.createElement("img");r.src=`https://image.tmdb.org/t/p/w500/${e.poster_path}`,r.alt=`${e.title} Poster`,r.classList.add("movie-image");const i=document.createElement("div");i.classList.add("movie-description");const o=document.createElement("h2");o.textContent=e.title,o.classList.add("movie-title");const d=e.genre_ids.map((e=>{const n=t.genres.find((t=>t.id===e));return n?n.name:""})),c=d.slice(0,2),s=d.slice(2),l=(h=e.vote_average,Math.abs(h%1)>=.005?Math.ceil(100*h)/100:Math.floor(100*h)/100),m=document.createElement("p"),u=document.createElement("span");var h;u.classList.add("rating"),u.textContent=` ${l}`,s.length>0?m.innerHTML=`${c.join(", ")}, Other | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `:m.innerHTML=`${c.join(", ")} | ${e.release_date?e.release_date.substring(0,4):"N/A"} | `;m.appendChild(u),m.classList.add("movie-details"),i.appendChild(o),i.appendChild(m),a.appendChild(r),a.appendChild(i),n.appendChild(a)}(e,r,a)}))}}document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".search-input");document.querySelector(".search-bar").addEventListener("submit",(async t=>{t.preventDefault();const n=e.value.trim();await r(n)}))})),t.homeLink.addEventListener("click",(function(){t.headerForm.classList.remove("visually-hidden"),t.headerButtons.classList.add("visually-hidden"),t.libraryHeader.classList.add("container-header"),t.libraryHeader.classList.remove("library-header")})),t.libraryLink.addEventListener("click",(function(){t.headerForm.classList.add("visually-hidden"),t.headerButtons.classList.remove("visually-hidden"),t.libraryHeader.classList.remove("container-header"),t.libraryHeader.classList.add("library-header")}));
//# sourceMappingURL=index.ba29665a.js.map
